<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Archlinux]]></title>
    <url>%2F2018%2F07%2F18%2FArchlinux%2F</url>
    <content type="text"><![CDATA[准备工作熟悉 Vim. 压缩卷右键开始 –&gt; 磁盘管理(K) –&gt; 选择主分区,右键 –&gt; 压缩卷 –&gt; 分出 40G. 制作启动盘下载 Arch Linux 和 Rufus 并制作好启动盘.（选择 UEFI,GPT) 设置从USB启动首先按住音量键并启动,进入 UEFI,关闭安全启动,并将启动顺序改为从 USB 启动. 插入 USB 后 Reboot 就能从 USB 启动 Arch Linux. 选择第一个选项进入系统. 安装过程安装过程需要使用网络. 用数据线连接手机,打开USB网络共享. 设置屏幕字体大小由于分辨率太高,导致字体显示太小,重新设置终端字体 1setfont /usr/share/kbd/consolefonts/latarcyrheb-sun32.psfu.gz 测试网络连接 123# dhcpcd# ping -c 3 www.baidu.com // 成功接收到数据包则连接成功# timedatectl set-ntp true 分区 12345678# fdisk -l // 以下是一个输出实例nvme0n1 259:0 0 238.5G|- nvme0n1p1 259:1 0 260M|- nvme0n1p2 259:2 0 128M|- nvme0n1p3 259:3 0 174.8G|- nvme0n1p4 259:4 0 830M# gdisk /dev/nvme0n1（ 1. n(new) 2. 在last sector时 +20G, 其余回车,选择默认设置 3. n 回车选择默认设置,分出第6部分 4. p 看是否分区成功 5. w(write) Y(Yes) 格式化 12# mkfs.ext4 /dev/nvme0n1p5# mkfs.ext4 /dev/nvme0n1p6 挂载 12345# mount /dev/nvme0n1p5 /mnt# mkdir /mnt/home# mount /dev/nvme0n1p6 /mnt/home# mkdir -p /mnt/boot/efi // 创建 UEFI 挂载点# mount /dev/nvme0n1p1 /mnt/boot/efi // 挂载 UEFI 分区 安装 base 12345# vi /etc/pacman.d/mirrorlist //把163的提到第一个# pacstrap -i /mnt base base-devel# genfstab -U /mnt &gt;&gt; /mnt/etc/fstab# cat /mnt/etc/fstab# arch-chroot /mnt 安装 grub 123# pacman -S dosfstools grub efibootmgr os-prober(双系统必装)# grub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=grub# grub-mkconfig -o /boot/grub/grub.cfg //(reboot 后还要运行一次,运行结果才会出现windows manager) 重启 reboot 12345# passwd // 设置 root 密码# CTRL-D // exit# umount /mnt/boot/efi# umount /mnt# reboot // 记得移除 USB 基本设置重启后用 root 身份登录, 修改显示字体,打开手机网络共享,测试网络. 123# setfont /usr/share/kbd/consolefonts/latarcyrheb-sun32.psfu.gz# dhcpcd# ping -c 3 www.baidu.com // 成功接收到数据包则连接成功 时区 1# ln -S /usr/share/zoneinfo/Asia/Shanghai /etc/localtime Locale 12345# vi /etc/locale.gen // 移除下面两行前的注释符号en\_US.UTF-8 UTF-8zh\_CN.UTF-8 UTF-8# locale-gen# echo LANG=en_US.UTF-8 &gt; /etc/locale.conf hostname 123456789# echo Arch &gt; /etc/hostname //将主机名Arch填入# vi /etc/hosts // 修改 host完成后看起来像这样:# cat /etc/hostnameArch# cat /etc/hosts127.0.0.1 localhost.localdomain localhost::1 localhost.localdomain localhost127.0.1.1 Arch.localdomain Arch 时间时间表示有两个标准：Localtime 和 UTC(Coordinated Universal Time). UTC 是与时区无关的全球时间标准. 尽管概念上有差别, UTC 和 GMT (格林威治时间) 是一样的. Localtime 标准则依赖于当前时区. 由于 windows 使用 Localtime, 为了保持一致: 12# timedatectl set-local-rtc true // 将硬件时间设置为 localtime# hwclock --systohc // 同步硬件时间和系统时间 网络 123# systemctl enable dhcpcd# pacman -S networkmanager iw wpa_supplicant dialog# systemctl enable NetworkManager 显卡,Touchpad 驱动 12# pacman -S xf86-video-intel# pacman -S xf86-input-libinput gnome 12# pacman -S gnome gnome-tweaks# systemctl enable gdm 重启后 gnome 启动, 登录 root 账户, 在 account setting 中 add users 后, log out 重新以 user 的身份登录. gnome 启动后安装与设置 Touchpad 左键使用不习惯.setting –&gt; devices –&gt; mouse and touchpad –&gt; tab to click; tweaks –&gt; mouse &amp; touchpad –&gt; Mouse click emulation (Area). sudo 12$ sudo pacman -S sudo vim$ visudo //（在 root ALL=(ALL)下面仿照格式把root 改成 username） 添加archlinuxcn源 123456$ sudo vim /etc/pacman.conf // 添加以下几行[archlinuxcn]#The Chinese Arch Linux communities packages.SigLevel = Optional TrustAllServer = http://repo.archlinuxcn.org/$arch$ sudo pacman -Syu 搜狗拼音 12345$ sudo pacman -S fcitx-im fcitx-configtool fcitx-sogoupinyin$ sudo vim /etc/environment // 写入export GTK_IM_MODULE=fcitxexport QT_IM_MODULE=fcitxexport XMODIFIERS=@im=fcitx 然后还需要修改 fcitx-configtool 中的设置: Default Keyboard Layout –&gt; 选择 Chinese, 添加 –&gt; Add input method（+号）选择 Sougou Pinyin. chrome 123$ sudo pacman -S wqy-microhei wqy-zenhei yaourt// 字体$ sudo yaourt -S google-chrome // 如果root账号下安装 chrome, chrome 无法启动.$ sudo pacman -R epiphany shadowsocks 1$ sudo pacman -S shadowsocks-qt5 设置好 shadowsock 后, 还需要 setting –&gt; Network –&gt; Network Proxy –&gt; Manual –&gt; Socks Host 127.0.0.1 1080（设置的local端口号） 桌面美化 下载extensions, 解压缩后, 放到路径：~/.local/share/gnome-shell/extensions/下载Gnome-OSC, 解压缩后, 把里面两个文件, 放到路径：home/.themes/下,下载macOS iCons, 解压缩后, 放到路径：home/.icons/下.重新登录后(重启？), 利用 tweaks 进行设置. 解决休眠 123$ sudo vim /etc/systemd/logind.confHandleLidSwitch=ignore$ systemctl restart systemd-logind setting power 关闭 atutosuspend dim screen]]></content>
  </entry>
</search>
